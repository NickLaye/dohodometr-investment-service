# =================================
# БАЗОВЫЕ НАСТРОЙКИ
# =================================
NODE_ENV=development
DEBUG=true
APP_NAME=investment-service
APP_VERSION=1.0.0
APP_DOMAIN=localhost:3000

# =================================
# BACKEND API
# =================================
API_URL=http://localhost:8000
API_PREFIX=/api/v1
SECRET_KEY=your-super-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS512
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =================================
# DATABASE
# =================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/investment_db
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=investment_db
DATABASE_USER=postgres
DATABASE_PASSWORD=CHANGE_IN_PRODUCTION
DATABASE_ECHO=false

# =================================
# REDIS
# =================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# =================================
# CELERY
# =================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =================================
# MINIO / S3
# =================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=CHANGE_IN_PRODUCTION
MINIO_SECRET_KEY=CHANGE_IN_PRODUCTION
MINIO_BUCKET_NAME=investment-files
MINIO_SECURE=false

# =================================
# EMAIL (SMTP)
# =================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true
EMAIL_FROM=noreply@investment-service.ru

# =================================
# CRYPTO & SECURITY
# =================================
# КРИТИЧНО: Генерируйте с помощью: ./deployment/generate_secure_secrets.sh
ENCRYPTION_KEY=your-32-byte-encryption-key-here!
ENCRYPTION_SALT=your-32-byte-encryption-salt-here!
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=1
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOGIN_ATTEMPT_RESET_TIME=900

# =================================
# RATE LIMITING
# =================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# =================================
# CORS
# =================================
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true

# =================================
# PRICING PROVIDERS
# =================================
MOEX_API_URL=https://iss.moex.com
YAHOO_FINANCE_API_URL=https://query1.finance.yahoo.com
CBR_API_URL=https://www.cbr-xml-daily.ru

# =================================
# MONITORING
# =================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PUSHGATEWAY=localhost:9091
SENTRY_DSN=
LOG_LEVEL=INFO

# =================================
# BACKUP
# =================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=investment-backups

# =================================
# FEATURE FLAGS
# =================================
FEATURE_BROKER_INTEGRATIONS=false
FEATURE_TELEGRAM_NOTIFICATIONS=false
FEATURE_ADVANCED_ANALYTICS=true

# =================================
# LOCALE
# =================================
DEFAULT_LOCALE=ru
DEFAULT_TIMEZONE=Europe/Moscow
DEFAULT_CURRENCY=RUB

# =================================
# FILE UPLOADS
# =================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=csv,xlsx,xls,pdf
VIRUS_SCAN_ENABLED=false

# =================================
# GDPR / PRIVACY
# =================================
DATA_RETENTION_DAYS=2555  # 7 years
ANONYMIZATION_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555

# =================================
# DEVELOPMENT ONLY
# =================================
MOCK_EXTERNAL_APIS=true
SEED_DATABASE=true
ENABLE_SWAGGER=true
