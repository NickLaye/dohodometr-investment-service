# REPORT_A ‚Äî –°–±–æ—Ä —Å–∏–º–ø—Ç–æ–º–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

## 1) –í—Ö–æ–¥–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–Ω–∞–π–¥–µ–Ω–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

- **Workflows** (`.github/workflows`):
  - `ci.yml` ‚Äî CI: backend-tests, frontend-tests, security (Trivy + detect-secrets), docker-build, e2e-tests (PR), quality-gate.
  - `security.yml` ‚Äî –í–ù–ò–ú–ê–ù–ò–ï: —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö workflow –≤ –æ–¥–Ω–æ–º YAML (–¥–≤–æ–π–Ω–æ–π –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–π `name:`) ‚Üí –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ GitHub Actions.
  - `security-hardened.yml` ‚Äî –£–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ security-–ø–∞–π–ø–ª–∞–π–Ω—ã (Gitleaks, CodeQL, SBOM, dependency audit, Docker scan, Checkov, summary).
  - `comprehensive-security.yml` ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è security-–∫–æ–Ω–≤–µ–π–µ—Ä–∏–∑–∞—Ü–∏—è (–ø—Ä–µ-–ø—Ä–æ–≤–µ—Ä–∫–∏, backend/frontend security, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, SBOM, pen-test, summary).
  - `cd-production.yml` –∏ `cd-production-fixed.yml` ‚Äî –î–≤–∞ –ø–æ—Ö–æ–∂–∏—Ö CD –Ω–∞ –ø—Ä–æ–¥, –µ—Å—Ç—å —Ä–∏—Å–∫ –¥–≤–æ–π–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è/–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤.

- **CODEOWNERS**: `.github/CODEOWNERS` ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –≤–ª–∞–¥–µ–ª—å—Ü—ã –¥–ª—è —Å–µ–∫—å—é—Ä–∏—Ç–∏-–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π, CI/CD –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã `@yourusername`, `@security-team`, –∏ —Ç.–¥.).

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/–ø–æ–ª–∏—Ç–∏–∫–∏/–ª–∏—Ü–µ–Ω–∑–∏–∏**:
  - `README.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä, dev/prod –∑–∞–ø—É—Å–∫, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —Ç–µ—Å—Ç—ã.
  - `CONTRIBUTING.md` ‚Äî –≥–∞–π–¥, Conventional Commits, —Ç–µ—Å—Ç/–ª–∏–Ω—Ç —á–µ–∫-–ª–∏—Å—Ç—ã –ø–µ—Ä–µ–¥ PR.
  - `SECURITY.md` ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–æ–Ω—Ç–∞–∫—Ç `security@investment-service.ru`.
  - `LICENSE` ‚Äî MIT (2025, Investment Service).

- **Lock/–º–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–∞–∫–µ—Ç–æ–≤**:
  - Frontend: `frontend/package-lock.json` (npm). Yarn/pnpm lock –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã.
  - Backend: `backend/requirements.txt`, `backend/requirements-dev.txt`. Poetry/Pipenv lock –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã.

- **Docker/Compose/Infra**:
  - Backend: `backend/Dockerfile` (multi-stage, non-root, healthcheck); dev-—Ñ–∞–π–ª `backend/Dockerfile.dev` (–µ—Å—Ç—å –≤ –¥–µ—Ä–µ–≤–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ compose; —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–ª–æ—Å—å –≤ —ç—Ç–æ–º –æ—Ç—á—ë—Ç–µ).
  - Frontend: `frontend/Dockerfile` (multi-stage, non-root, healthcheck); dev-—Ñ–∞–π–ª `frontend/Dockerfile.dev`.
  - Compose (dev): `docker-compose.dev.yml` ‚Äî Postgres, Redis, MinIO, backend, celery, frontend; —Å–æ–¥–µ—Ä–∂–∏—Ç dev-—Å–µ–∫—Ä–µ—Ç—ã –≤ env (—Å–º. —Å–∏–º–ø—Ç–æ–º—ã –Ω–∏–∂–µ).
  - Compose (prod): `deployment/docker-compose.production.yml` ‚Äî Traefik, backend, frontend, Postgres, Redis, Uptime Kuma, healthchecks –∏ security headers.
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: `infra/prometheus/prometheus.yml`, `infra/prometheus/alerts.yml`; Traefik dynamic: `infra/traefik/dynamic.yml` (CSP, HSTS, CORS, rate-limit).

- **–ö–æ–Ω—Ñ–∏–≥–∏ –∫–∞—á–µ—Å—Ç–≤–∞/—Ç–∏–ø–æ–≤**:
  - Backend: `backend/pyproject.toml` (ruff, mypy, pytest, coverage ‚â•80%).
  - Frontend: `frontend/package.json` (—Å–∫—Ä–∏–ø—Ç—ã lint/type-check/test/e2e), `tsconfig.json` (–Ω–∞–ª–∏—á–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç —É—á—Ç–µ–Ω–æ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–∑–∞—Ö).

## 2) –°–∏–º–ø—Ç–æ–º—ã –∏ —Ä–∏—Å–∫–∏ (–¥–æ –∑–∞–ø—É—Å–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤)

- **[–ë–ª–æ–∫–µ—Ä CI] –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π YAML –≤ `.github/workflows/security.yml`**:
  - –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö workflow –≤ –æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ (–¥–≤–æ–π–Ω–æ–π –∫–ª—é—á `name:` –∏ –ø–æ–≤—Ç–æ—Ä `on/jobs`). GitHub Actions –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ –æ–¥–Ω–æ–º—É workflow –Ω–∞ —Ñ–∞–π–ª ‚Üí –≤—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞/–∏–≥–Ω–æ—Ä–∞ —á–∞—Å—Ç–∏ —à–∞–≥–æ–≤.

- **[–†–∏—Å–∫ CD] –î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–æ–¥-–¥–µ–ø–ª–æ—è**:
  - –ò–º–µ—é—Ç—Å—è –æ–±–∞ —Ñ–∞–π–ª–∞: `cd-production.yml` –∏ `cd-production-fixed.yml` —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º. –†–∏—Å–∫: –≥–æ–Ω–∫–∏, –¥–≤–æ–π–Ω–æ–π –∑–∞–ø—É—Å–∫, –ø—É—Ç–∞–Ω–∏—Ü–∞ –≤ required checks.

- **Secret Scanning / Push Protection**:
  - –í `docker-compose.dev.yml` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —è–≤–Ω—ã–µ dev-—Å–µ–∫—Ä–µ—Ç—ã –∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (`MINIO_ROOT_PASSWORD=password123`, `SECRET_KEY=dev-...`, `JWT_SECRET_KEY=dev-...`, `REDIS –±–µ–∑ –ø–∞—Ä–æ–ª—è` –∏ —Ç.–ø.).
  - –í –ø—Ä–æ–¥-–∫–æ–º–ø–æ–∑–µ —Å–µ–∫—Ä–µ—Ç—ã –æ–∂–∏–¥–∞—é—Ç—Å—è –∏–∑ `secrets.*`/env (–æ–∫), –Ω–æ –Ω–∞–ª–∏—á–∏–µ dev-—Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –º–æ–∂–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å Gitleaks/Secret Scanning –Ω–∞ PR (–ª–æ–∂–Ω–æ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ –Ω–∞—Å—Ç–æ—è—â–∏–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤–∏–ª). –¢—Ä–µ–±—É–µ—Ç—Å—è baseline/–∏–≥–Ω–æ—Ä –¥–ª—è dev –∏ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è prod.

- **Pinning —ç–∫—à–µ–Ω–æ–≤**:
  - –ß–∞—Å—Ç—å —ç–∫—à–µ–Ω–æ–≤ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∞ –ø–æ SHA (üëç), —á–∞—Å—Ç—å ‚Äî –ø–æ `v*` –∏–ª–∏ `master` (–Ω–∞–ø—Ä–∏–º–µ—Ä, Trivy `@master` –≤ —Ä—è–¥–µ —Ñ–∞–π–ª–æ–≤) ‚Üí —Ä–∏—Å–∫ supply-chain. –¢—Ä–µ–±—É–µ—Ç—Å—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è pin –ø–æ SHA.

- **Branch Protection / Required checks (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ)**:
  - –í–µ—Ä–æ—è—Ç–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã: `CI Pipeline / backend-tests`, `CI Pipeline / frontend-tests`, `CI Pipeline / security`, `CI Pipeline / docker-build`, –≤–æ–∑–º–æ–∂–Ω–æ `quality-gate`; –∞ —Ç–∞–∫–∂–µ CodeQL –∏–∑ security workflows.
  - –ò–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ `security.yml` –∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ CD ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã ¬´Required check missing¬ª –∏–ª–∏ ¬´Expected ‚Äî Waiting¬ª/–ø–∞–¥–µ–Ω–∏—è.

- **–ö—Ä—É–ø–Ω—ã–µ —Ñ–∞–π–ª—ã/LFS**:
  - –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–µ –≤—ã—è–≤–ª—è–ª–∏—Å—å, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≥–æ–Ω –∏—Å—Ç–æ—Ä–∏–∏ (—Å–º. –§–∞–∑–∞ B ‚Äî gitleaks/LFS —Å–∫–∞–Ω—ã).

- **CRLF/–ø–µ—Ä–º–∏—à–µ–Ω—ã/—Å–∏–º–ª–∏–Ω–∫–∏**:
  - `.editorconfig` –∏ `.gitattributes` –≤ –∫–æ—Ä–Ω–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã ‚Üí —Ä–∏—Å–∫ –¥—Ä–µ–π—Ñ–∞ EOL/–ø–µ—Ä–º–∏—à–µ–Ω–æ–≤ –º–µ–∂–¥—É –û–°.

## 3) –í—ã–≤–æ–¥ –ø–æ –§–∞–∑–µ A

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ö–æ—Ä–æ—à–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∫ CI/CD –∏ —Å–µ–∫—å—é—Ä–∏—Ç–∏ (CodeQL, SBOM, Trivy, Checkov), –Ω–æ –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∞/workflow-–¥—É–±–ª–∏–∫–∞—Ç–æ–≤.
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ª–æ–∂–Ω—ã—Ö –∞–ª–∞—Ä–º–æ–≤ –ø–æ secret scanning –∏–∑-–∑–∞ dev-–∑–Ω–∞—á–µ–Ω–∏–π –≤ compose. –ù—É–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (baseline/–∏—Å–∫–ª—é—á–µ–Ω–∏—è) –∏ —Å—Ç—Ä–æ–≥–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–ª—è prod.
- –ù–µ—Ç —è–≤–Ω—ã—Ö —Å–ª–µ–¥–æ–≤ Terraform/K8s –≤ –¥–µ—Ä–µ–≤–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Traefik + docker-compose).

## 4) –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ–¥ –§–∞–∑—É B/C/D –Ω–∞–º–µ—á–µ–Ω–æ)

- –†–∞–∑–Ω–µ—Å—Ç–∏ `security.yml` –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã–µ workflow-—Ñ–∞–π–ª—ã –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω, —É–±—Ä–∞–≤ –¥—É–±–ª–∏–∫–∞—Ç —Ä–∞–∑–¥–µ–ª–æ–≤.
- –í—ã–±—Ä–∞—Ç—å –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω CD (`cd-production.yml`), –≤—Ç–æ—Ä–æ–π —É–¥–∞–ª–∏—Ç—å/–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å, —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è job‚Äô–æ–≤ —Å Branch Protection.
- –î–æ–±–∞–≤–∏—Ç—å `.editorconfig`, `.gitattributes` –∏ `.gitignore` –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞.
- –í–∫–ª—é—á–∏—Ç—å/–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `gitleaks` –∏ –ø—Ä–æ–≥–Ω–∞—Ç—å –ø–æ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å baseline –∏ —Ä–æ—Ç–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å LFS/–∫—Ä—É–ø–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∏—Å—Ç–æ—Ä–∏–∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–ª–∞–Ω –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è.

‚Äî –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ PR –±—É–¥—É—Ç –æ—Ç—Ä–∞–∂–µ–Ω—ã –≤ REPORT_B/‚Ä¶ (—Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–∑—ã).


