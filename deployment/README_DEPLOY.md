# üöÄ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï DOHODOMETR.RU - –ò–ù–°–¢–†–£–ö–¶–ò–Ø**

## ‚ö° **–ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (15 –ú–ò–ù–£–¢)**

–í—Å–µ —Ñ–∞–π–ª—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã! –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç.

---

## üì¶ **–ß–¢–û –ì–û–¢–û–í–û**

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose** —Å Let's Encrypt  
‚úÖ **–ö—Ä–∞—Å–∏–≤–∞—è landing page** –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ SSL  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è** —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx** —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π  
‚úÖ **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞  

---

## üéØ **–ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø**

### **–®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É**
```bash
ssh root@185.23.35.41
```

### **–®–∞–≥ 2: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã**

**–í–∞—Ä–∏–∞–Ω—Ç A: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å Git –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
```bash
cd /opt
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π> dohodometr-deploy
cd dohodometr-deploy/deployment
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**
```bash
mkdir -p /opt/dohodometr-deploy/deployment
cd /opt/dohodometr-deploy/deployment

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—é–¥–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ deployment/
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ scp —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã:
# scp -r deployment/ root@185.23.35.41:/opt/dohodometr-deploy/
```

### **–®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π**
```bash
cd /opt/dohodometr-deploy/deployment
chmod +x deploy.sh
./deploy.sh
```

### **–®–∞–≥ 4: –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –Ω—É–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏  
- ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å Let's Encrypt
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –≤—ã–ø—É—Å–∫ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

### **–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **https://dohodometr.ru**

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- üîí **–ó–µ–ª–µ–Ω—ã–π –∑–∞–º–æ–∫** (–∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)
- üåê **–ö—Ä–∞—Å–∏–≤–∞—è landing page** –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚ö° **HTTP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ HTTPS

---

## üõ†Ô∏è **–ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö**

### **Problem: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –≤—ã–ø—É—Å–∫–∞–µ—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Traefik
docker-compose logs traefik | grep -i "acme\|letsencrypt"

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
rm -rf /opt/dohodometr/letsencrypt/*
docker-compose restart traefik
```

### **Problem: 404 –æ—à–∏–±–∫–∞ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down && docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤–µ–±-—Å–∞–π—Ç–∞
docker-compose logs website
```

### **Problem: DNS –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
nslookup dohodometr.ru
ping dohodometr.ru

# –û—á–∏—Å—Ç–∏—Ç—å DNS –∫–µ—à (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
systemctl restart systemd-resolved
```

---

## üìä **–§–ê–ô–õ–´ –í –≠–¢–û–ô –ü–ê–ü–ö–ï**

| **–§–∞–π–ª** | **–û–ø–∏—Å–∞–Ω–∏–µ** |
|----------|--------------|
| `docker-compose.production.yml` | –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å Let's Encrypt |
| `environment.production` | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ .env) |
| `deploy.sh` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è |
| `html/index.html` | –ö—Ä–∞—Å–∏–≤–∞—è landing page |
| `html/404.html` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ 404 |
| `nginx/nginx.conf` | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx |

---

## üîß **–ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´ –ü–û–°–õ–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø**

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –õ–æ–≥–∏ Traefik (SSL –∏ —Ä–æ—É—Ç–∏–Ω–≥)
docker-compose logs -f traefik

# –õ–æ–≥–∏ –≤–µ–±-—Å–∞–π—Ç–∞
docker-compose logs -f website

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
docker-compose down && docker-compose up -d
```

---

## üéØ **–î–û–°–¢–£–ü–ù–´–ï URL –ü–û–°–õ–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø**

- **üè† –û—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç:** https://dohodometr.ru
- **üõ†Ô∏è Traefik –ø–∞–Ω–µ–ª—å:** https://traefik.dohodometr.ru (admin:SECURE_PASSWORD)
- **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** https://uptime.dohodometr.ru (admin:SECURE_PASSWORD)

---

## ‚ö†Ô∏è **–í–ê–ñ–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø –ü–û–°–õ–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø**

### **1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏**
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
cat /opt/dohodometr/PASSWORDS.txt

# –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
rm /opt/dohodometr/PASSWORDS.txt
```

### **2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å email**
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª
nano /opt/dohodometr/.env

# –ó–∞–º–µ–Ω–∏—Ç—å "CHANGE_EMAIL_PASSWORD" –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ—á—Ç—ã
```

### **3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –ó–∞–π—Ç–∏ –Ω–∞ https://uptime.dohodometr.ru
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è https://dohodometr.ru
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### **4. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø—ã**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞
nano /opt/dohodometr/backup.sh

# –î–æ–±–∞–≤–∏—Ç—å –≤ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤
crontab -e
```

---

## üèÜ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### **‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**

**üîí SSL Test (https://www.ssllabs.com/ssltest/):**
- Grade: A –∏–ª–∏ A+
- Certificate: Let's Encrypt
- Protocol Support: TLS 1.2, TLS 1.3

**üåê –í–µ–±-—Å–∞–π—Ç:**
- –ó–µ–ª–µ–Ω—ã–π –∑–∞–º–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ö—Ä–∞—Å–∏–≤–∞—è landing page
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (< 2 —Å–µ–∫)
- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

**‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- HTTP/2 –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- Gzip —Å–∂–∞—Ç–∏–µ
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

---

## üìû **–ü–û–î–î–ï–†–ñ–ö–ê**

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:** `docker-compose logs`
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:** `docker-compose restart`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:** `nslookup dohodometr.ru`
4. **–û—á–∏—Å—Ç–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∫–µ—à** –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

**üéØ –¶–µ–ª—å: –†–∞–±–æ—Ç–∞—é—â–∏–π HTTPS —Å–∞–π—Ç —Å A+ —Ä–µ–π—Ç–∏–Ω–≥–æ–º SSL –∑–∞ 15 –º–∏–Ω—É—Ç!**

---

## üöÄ **–ì–û–¢–û–í–û!**

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–π HTTPS —Å–∞–π—Ç dohodometr.ru
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL –æ—Ç Let's Encrypt  
- ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø–æ–ª–Ω–æ–≥–æ MVP

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ backend –∏ frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
